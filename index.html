<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Baiturrahman Ngantang</title>
  <style>
    body {
      margin: 0;
      font-family: Consolas, sans-serif;
    }
    .top-header {
      display: flex;
      align-items: center;
      padding: 2em;
      background-color: #fff;
    }
    .top-header img {
      height: 80px;
      width: 80px;
      object-fit: cover;
      margin-right: 15px;
      border-radius: 8px;
    }
    .top-header .title h1 {
      margin: 0;
      font-size: 2.2em;
      color: #444;
    }
    .top-header .title p {
      margin: 2px 0 0;
      color: #888;
      font-size: 0.95em;
    }
    nav {
      background-color: #cfe2f3;
      border-top: 1px solid #eee;
      border-bottom: 1px solid #eee;
    }
    .nav-container {
      display: flex;
      gap: 30px;
      padding: 1.4em 2em;
      position: relative;
      flex-wrap: wrap;
      justify-content: flex-start;
    }
    .nav-container > div, .nav-container > a {
      position: relative;
    }
    .nav-container > a,
    .nav-container > .dropdown > a {
      font-weight: bold;
      color: black;
      text-decoration: none;
      font-size: 16px;
    }
    .nav-container a:hover {
      color: #007BFF;
    }
    .dropdown {
      position: relative;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      left: 0;
      top: 100%;
      background-color: white;
      min-width: 200px;
      box-shadow: 0px 2px 8px rgba(0,0,0,0.1);
      z-index: 1;
    }
    .dropdown:hover .dropdown-content,
    .dropdown-content:hover {
      display: block;
    }
    .dropdown-content a {
      display: block;
      padding: 10px;
      color: #000;
      text-decoration: none;
      font-weight: normal;
      font-size: 13px;
    }
    .dropdown-content a:hover {
      background-color: #f2f2f2;
      color: #007BFF;
    }
    .admin-bar {
      background-color: #f0f0f0;
      padding: 0.8em 2em;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #ddd;
      position: relative;
    }
    .admin-left img {
      height: 40px;
      width: 40px;
      object-fit: cover;
      border-radius: 50%;
    }
    .admin-right a {
      text-decoration: none;
      color: #007BFF;
      font-weight: bold;
      font-size: 14px;
      cursor: pointer;
    }
	#loginModal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5); justify-content: center; align-items: center;
      z-index: 1000;
    }
	#loginModal .modal-content {
      background: #fff; padding: 20px; border-radius: 8px; width: 300px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3); position: relative;
    }
	#loginModal input {
      width: 93%; padding: 8px; margin-bottom: 10px;
    }
	 #loginModal button {
      width: 100%; padding: 12px; background-color: #007BFF; color: white;
      border: none; border-radius: 4px;
    }
    .running-text-inline {
      position: absolute;
      left: 25%;
      right: 25%;
      white-space: nowrap;
      overflow: hidden;
      color: #000;
      font-size: 16px;
    }
    .running-text-inline span {
      display: inline-block;
      padding-left: 100%;
      animation: marquee 65s linear infinite;
    }
    @keyframes marquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-100%); }
    }
    .gallery-wrapper {
      position: relative;
      padding: 1em 2em;
    }
    .gallery-slider {
      display: flex;
      gap: 30px;
      overflow-x: auto;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      cursor: grab;
    }
    .gallery-slider::-webkit-scrollbar {
      display: none;
    }
    .gallery-slider img {
      flex: 0 0 calc(33.333% - 10px);
      height: 220px;
      object-fit: cover;
      border-radius: 8px;
      transition: transform 0.0s;
      user-select: none;
      -webkit-user-drag: none;
    }
    @media (max-width: 768px) {
      .gallery-slider img {
        flex: 0 0 calc(50% - 10px);
      }
    }
    @media (max-width: 480px) {
      .gallery-slider img {
        flex: 0 0 100%;
      }
    }
    .gallery-slider img:hover {
      transform: scale(1.05);
    }
	    .arrow-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0,0,0,0.5);
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 2;
    }
	    .arrow-left { left: 10px; }
       .arrow-right { right: 10px; }
	   
      #selamat-container {
      padding-left: 5rem;
      padding-right:5rem;
      text-align: justify;  
    }
	 #welcome-section .container {
    max-width: 960px;
    margin: 0 auto;
    padding-left: 2rem;
    padding-right: 2rem;
  }

  #selamat-judul {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }

  #selamat-isi {
    padding-left: 2rem;
    padding-right: 2rem;
    text-align: justify;
  }
  </style>
</head>
<body>
  <div class="admin-bar">
    <div class="admin-left">
      <img src="22550044_101553120610407_1962766927916542431_n.jpg" alt="Mini Logo" />
    </div>
    <div class="running-text-inline">
      <span>Selamat datang di Website Masjid Baiturrahman Ngantang - Jadwal kegiatan, donasi, dan informasi terbaru tersedia di halaman utama</span>
    </div>
    <div class="admin-right">
      <a id="adminLogin">Login Admin</a>
    </div>
  </div>
  
      <section id="kontenHalaman" style="padding: 2em; max-width: 900px; margin: auto; display: none;">
    <h2 id="judulHalaman" style="text-align: center;"></h2>
    <div id="isiHalaman" style="text-align: justify;"></div>
  </section>
      <div id="loginModal">
    <div class="modal-content">
      <h3 style="text-align:center;">Login Admin</h3>
      <input type="text" id="username" placeholder="Username">
      <input type="password" id="password" placeholder="Password">
      <button onclick="loginAdmin()">Login</button>
    </div>
  </div>

  <div class="top-header">
    <img src="22550044_101553120610407_1962766927916542431_n.jpg" alt="Foto Masjid" />
    <div class="title">
      <h1>BAITURRAHMAN NGANTANG</h1>
      <p>Deskripsi / Slogan Masjid</p>
    </div>
  </div>

  <nav>
    <div class="nav-container">
      <a href="#">Beranda</a>
      <div class="dropdown">
  <a href="#">Profil</a>
  <div class="dropdown-content">
    <a href="profil.html">Profil Masjid</a>
    <a href="sejarah.html">Sejarah</a>
	<a href="pengurus.html">Pengurus</a>   
  </div>
</div>

      <div class="dropdown">
        <a href="#">Program</a>
        <div class="dropdown-content">
          <a href="#">Keagamaan dan Dakwah</a>
          <a href="#">Ekonomi dan Sosial</a>
          <a href="#">Sarana dan Prasarana</a>
        </div>
      </div>
      <a href="#">Berita</a>
      <a href="#">Artikel</a>
      <div class="dropdown">
        <a href="#">Galeri</a>
        <div class="dropdown-content">
          <a href="#">Foto</a>
          <a href="#">Video</a>
        </div>
      </div>
      <a href="#">Donasi</a>
      <a href="#">Laporan</a>
      <a href="#">Kontak</a>
    </div>
  </nav>

  <div class="gallery-wrapper">
     <button class="arrow-btn arrow-right" onclick="scrollGallery(-1)">&#10095;</button>
    <button class="arrow-btn arrow-left" onclick="scrollGallery(1)">&#10094;</button>
  
    <div class="gallery-slider" id="gallerySlider">
      <img src="foto1.jpg" alt="Foto 1">
      <img src="foto2.jpg" alt="Foto 2">
      <img src="foto3.jpg" alt="Foto 3">
      <img src="foto4.jpg" alt="Foto 4">
      <img src="foto5.jpg" alt="Foto 5">
      <img src="foto6.jpg" alt="Foto 6">
    </div>
  </div>
  <section id="pengumumanSection" style="padding: 2em; max-width: 900px; margin: auto; position: relative;">
    <h2 style="text-align: center;">ðŸ“¢ Pengumuman</h2>
    <button onclick="tutupPengumuman()" style="position: absolute; top: 10px; right: 10px; background-color: #ccc; border: none; padding: 4px 8px; border-radius: 4px; cursor: pointer;">Tutup</button>
    <ul id="list-pengumuman" style="list-style: none; padding: 0;"></ul>
  </section>

<section style="padding: 2em 1em; display: flex; justify-content: center; align-items: center;">
  <div style="width: 100%; max-width: 1200px; border: 2px solid #d4af37; border-radius: 4px; background-image: url('https://www.transparenttextures.com/patterns/arabesque.png'); background-color: #fff; padding: 1em 2em; display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; gap: 1em;">
    <div style="flex: 1 1 250px; min-width: 240px;">
      <div style="font-size: 13px; color: #000; font-weight: bold;">Jadwal Shalat</div>
      <div style="font-size: 24px; font-weight: bold; color: #000; margin: 4px 0;">Di KAB. MALANG</div>
      <div id="tanggal" style="font-size: 15px; font-weight: 600; color: #333;">Sabtu, 26 Juli 2025</div>
    </div>
    <div style="display: flex; flex: 2 1 300px; flex-wrap: wrap; justify-content: space-between; gap: 10px;">
      <div style="flex: 1 1 80px; text-align: center; background: #dfe3ee; padding: 10px; border-radius: 4px; border: 1px solid #d4af37; min-width: 80px;">
        <div style="font-size: 12px; color: #000; font-weight: 600;">SUBUH</div>
        <div id="subuh" style="font-size: 22px; font-weight: bold; color: #111;">-</div>
      </div>
      <div style="flex: 1 1 80px; text-align: center; background: #dfe3ee; padding: 10px; border-radius: 4px; border: 1px solid #d4af37; min-width: 80px;">
        <div style="font-size: 12px; color: #000; font-weight: 600;">TERBIT</div>
        <div id="terbit" style="font-size: 22px; font-weight: bold; color: #111;">-</div>
      </div>
      <div style="flex: 1 1 80px; text-align: center; background: #dfe3ee; padding: 10px; border-radius: 4px; border: 1px solid #d4af37; min-width: 80px;">
        <div style="font-size: 12px; color: #000; font-weight: 600;">DZUHUR</div>
        <div id="dzuhur" style="font-size: 22px; font-weight: bold; color: #111;">-</div>
      </div>
      <div style="flex: 1 1 80px; text-align: center; background: #dfe3ee; padding: 10px; border-radius: 4px; border: 1px solid #d4af37; min-width: 80px;">
        <div style="font-size: 12px; color: #000; font-weight: 600;">ASHAR</div>
        <div id="ashar" style="font-size: 22px; font-weight: bold; color: #111;">-</div>
      </div>
      <div style="flex: 1 1 80px; text-align: center; background: #dfe3ee; padding: 10px; border-radius: 4px; border: 1px solid #d4af37; min-width: 80px;">
        <div style="font-size: 12px; color: #000; font-weight: 600;">MAGHRIB</div>
        <div id="maghrib" style="font-size: 22px; font-weight: bold; color: #111;">-</div>
      </div>
      <div style="flex: 1 1 80px; text-align: center; background: #dfe3ee; padding: 10px; border-radius: 4px; border: 1px solid #d4af37; min-width: 80px;">
        <div style="font-size: 12px; color: #000; font-weight: 600;">ISYA</div>
        <div id="isya" style="font-size: 22px; font-weight: bold; color: #111;">-</div>
      </div>
    </div>
  </div>
</section>

<section id="welcome-section" style="max-width: 1300px; margin: 10px auto 0; padding: 0 1.5rem;">
  <h2 id="selamat-judul" style="font-size: 35px; font-weight: bold; margin-bottom: 0.5em; text-align: left;">Selamat Datang</h2>
  <div id="selamat-isi" style="text-align: left; font-size: 20px; line-height: 1.6; padding-left: 50px;"></div>


</section>



<script>
fetch("data/beranda.json")
  .then(res => res.json())
  .then(data => {
    document.getElementById("isiBeranda").innerHTML = data.isi;
  })
  .catch(err => {
    document.getElementById("isiBeranda").innerHTML = "<p style='color:red;'>Gagal memuat konten beranda.</p>";
    console.error("Gagal memuat beranda:", err);
  });
</script>

<section style="padding: 2em 1em; display: flex; justify-content: center; align-items: center;">
  <div id="loginModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:1000;">
    <div style="background:#fff; padding:20px; border-radius:8px; width:300px; box-shadow:0 2px 10px rgba(0,0,0,0.3); position:relative;">
      <h3 style="text-align:center;">Login Admin</h3>
      <input type="text" placeholder="Username" style="width:93%; padding:8px; margin-bottom:10px;">
      <input type="password" placeholder="Password" style="width:93%; padding:8px; margin-bottom:10px;">
      <button onclick="loginAdmin()" style="width:100%; padding:12px; background-color:#007BFF; color:white; border:none; border-radius:4px;">Login</button>

    </div>
  </div>

  <script>
// GALERI
const slider = document.getElementById('gallerySlider');
let isDown = false;
let startX;
let scrollLeft;

slider.addEventListener('mousedown', (e) => {
  isDown = true;
  slider.classList.add('active');
  startX = e.pageX - slider.offsetLeft;
  scrollLeft = slider.scrollLeft;
});
slider.addEventListener('mouseleave', () => { isDown = false; });
slider.addEventListener('mouseup', () => { isDown = false; });
slider.addEventListener('mousemove', (e) => {
  if (!isDown) return;
  e.preventDefault();
  const x = e.pageX - slider.offsetLeft;
  const walk = (x - startX);
  slider.scrollLeft = scrollLeft - walk;
});
slider.addEventListener('touchstart', (e) => {
  startX = e.touches[0].pageX;
  scrollLeft = slider.scrollLeft;
});
slider.addEventListener('touchmove', (e) => {
  const x = e.touches[0].pageX;
  const walk = (x - startX);
  slider.scrollLeft = scrollLeft - walk;
});

function scrollGallery(direction) {
  const scrollAmount = slider.clientWidth / 2;
  slider.scrollLeft -= direction * scrollAmount;
}

// TAMPILKAN JAM DIGITAL
const jamElemen = document.createElement("p");
jamElemen.id = "jamSekarang";
jamElemen.style = "font-size: 1.2em; color: #000; margin: 0.5em 0;";
document.getElementById("tanggal").before(jamElemen);

setInterval(() => {
  const now = new Date();
  const jam = now.toLocaleTimeString('id-ID', { hour12: false });
  document.getElementById("jamSekarang").textContent = "Pukul: " + jam;
}, 1000);

// JADWAL SHOLAT dari API AlAdhan
const now = new Date();
const tanggalFormat = now.toLocaleDateString('id-ID', {
  weekday: 'long',
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});

// Lokasi Kab. Malang / Ngantang
const lat = -7.95;
const lon = 112.64;

fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${lon}&method=2`)
  .then(res => res.ok ? res.json() : Promise.reject('Response error'))
  .then(resp => {
    const t = resp.data.timings;
    document.getElementById("tanggal").textContent = tanggalFormat;
    document.getElementById("subuh").textContent = t.Fajr;
    document.getElementById("terbit").textContent = t.Sunrise;
    document.getElementById("dzuhur").textContent = t.Dhuhr;
    document.getElementById("ashar").textContent = t.Asr;
    document.getElementById("maghrib").textContent = t.Maghrib;
    document.getElementById("isya").textContent = t.Isha;
  })
  .catch(err => {
    console.error("Gagal mengambil jadwal sholat:", err);
    document.getElementById("tanggal").textContent = tanggalFormat + " | Jadwal tidak tersedia.";
  });

// LOGIN MODAL

document.getElementById("adminLogin").addEventListener("click", function(e) {
  e.preventDefault();
  document.getElementById("loginModal").style.display = "flex";
});
document.getElementById("loginModal").addEventListener("click", function(e) {
  if (e.target === this) this.style.display = "none";
});
 // Fungsi login sederhana
    function loginAdmin() {
      const user = document.getElementById("username").value.trim();
      const pass = document.getElementById("password").value.trim();

      if (user === "admin" && pass === "baiturrahman123") {
        window.open("admin/", "_blank"); // redirect ke folder admin
      } else {
        alert("Username atau Password salah");
      }
    }

 // Ambil pengumuman dari data/pengumuman.json
    fetch("data/pengumuman.json")
      .then(res => res.json())
      .then(data => {
        const list = document.getElementById("list-pengumuman");
        data.forEach(item => {
          const li = document.createElement("li");
          li.style = "background:#f9f9f9; padding:1em; margin-bottom:10px; border-radius:6px; border:1px solid #ddd";
          li.innerHTML = `<strong>${item.judul}</strong><br>${item.isi}`;
          list.appendChild(li);
        });
      })
      .catch(err => {
        document.getElementById("list-pengumuman").innerHTML = "<li>Gagal memuat pengumuman.</li>";
        console.error("Gagal memuat pengumuman:", err);
      });
	   // Fungsi untuk memuat halaman dinamis dari file JSON
    function loadHalaman(file) {
      fetch("data/" + file)
        .then(res => res.json())
        .then(data => {
          document.getElementById("judulHalaman").textContent = data.judul;
          document.getElementById("isiHalaman").innerHTML = data.isi;
          document.getElementById("kontenHalaman").style.display = "block";
          window.scrollTo({ top: document.getElementById("kontenHalaman").offsetTop, behavior: 'smooth' });
        })
        .catch(() => {
          document.getElementById("judulHalaman").textContent = "Gagal memuat halaman";
          document.getElementById("isiHalaman").textContent = "";
        });
    }
	function tutupPengumuman() {
      const section = document.getElementById("pengumumanSection");
      if (section) section.style.display = "none";
    }
  </script>
<script>
  fetch("https://raw.githubusercontent.com/Segalor/Masjid_Baiturrahman/main/data/selamat_datang.json")
    .then(res => res.json())
    .then(data => {
      if (data.tampilkan === "ya") {
        document.getElementById("selamat-judul").innerText = data.judul || "";
        document.getElementById("selamat-isi").innerHTML = data.isi || "";
      } else {
        document.getElementById("welcome-section").style.display = "none";
      }
    })
    .catch(err => console.error("Gagal ambil data selamat_datang.json", err));
</script>

</body>
</html>
